{"ast":null,"code":"// import axiosInstance from \"./axiosInstance\";\n\n// import axios from \"axios\";\n// export const getWallet = async () => {\n//   const res = await axiosInstance.get(\"/wallet\");\n//   return res.data;\n// };\n\n// // export const depositFunds = async (amount) => {\n// //   const res = await axiosInstance.post(\"/wallet/deposit\", { amount });\n// //   return res.data;\n// // };\n\n// export const depositFunds = async (amount) => {\n//   const user = JSON.parse(localStorage.getItem(\"user\")); // Or get from auth context\n//   const res = await axios.post(\"/api/wallet/deposit\", {\n//     userId: user._id, // Ensure this matches your auth context\n//     amount,\n//   });\n//   return res.data;\n// };\nimport axios from \"axios\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:4000/api\";\n\n// Get wallet details\nexport const getWallet = async () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (!user || !user._id) {\n    throw new Error(\"User not authenticated\");\n  }\n  const response = await axios.get(`${API_URL}/wallet/${user._id}`);\n  return response.data;\n};\n\n// Deposit funds\nexport const depositFunds = async amount => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (!user || !user._id) {\n    throw new Error(\"User not authenticated\");\n  }\n  const response = await axios.post(`${API_URL}/wallet/deposit`, {\n    userId: user._id,\n    amount\n  });\n  return response.data;\n};\n\n// Withdraw funds\nexport const withdrawFunds = async amount => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (!user || !user._id) {\n    throw new Error(\"User not authenticated\");\n  }\n  const response = await axios.post(`${API_URL}/wallet/withdraw`, {\n    userId: user._id,\n    amount\n  });\n  return response.data;\n};\n\n// Get transaction history\nexport const getTransactionHistory = async () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (!user || !user._id) {\n    throw new Error(\"User not authenticated\");\n  }\n  const response = await axios.get(`${API_URL}/wallet/transactions/${user._id}`);\n  return response.data;\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","getWallet","user","JSON","parse","localStorage","getItem","_id","Error","response","get","data","depositFunds","amount","post","userId","withdrawFunds","getTransactionHistory"],"sources":["C:/Users/Harshita Singh/Desktop/home/home/src/utils/walletApi.js"],"sourcesContent":["// import axiosInstance from \"./axiosInstance\";\r\n\r\n// import axios from \"axios\";\r\n// export const getWallet = async () => {\r\n//   const res = await axiosInstance.get(\"/wallet\");\r\n//   return res.data;\r\n// };\r\n\r\n// // export const depositFunds = async (amount) => {\r\n// //   const res = await axiosInstance.post(\"/wallet/deposit\", { amount });\r\n// //   return res.data;\r\n// // };\r\n\r\n// export const depositFunds = async (amount) => {\r\n//   const user = JSON.parse(localStorage.getItem(\"user\")); // Or get from auth context\r\n//   const res = await axios.post(\"/api/wallet/deposit\", {\r\n//     userId: user._id, // Ensure this matches your auth context\r\n//     amount,\r\n//   });\r\n//   return res.data;\r\n// };\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:4000/api\";\r\n\r\n// Get wallet details\r\nexport const getWallet = async () => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  if (!user || !user._id) {\r\n    throw new Error(\"User not authenticated\");\r\n  }\r\n\r\n  const response = await axios.get(`${API_URL}/wallet/${user._id}`);\r\n  return response.data;\r\n};\r\n\r\n// Deposit funds\r\nexport const depositFunds = async (amount) => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  if (!user || !user._id) {\r\n    throw new Error(\"User not authenticated\");\r\n  }\r\n\r\n  const response = await axios.post(`${API_URL}/wallet/deposit`, {\r\n    userId: user._id,\r\n    amount,\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\n// Withdraw funds\r\nexport const withdrawFunds = async (amount) => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  if (!user || !user._id) {\r\n    throw new Error(\"User not authenticated\");\r\n  }\r\n\r\n  const response = await axios.post(`${API_URL}/wallet/withdraw`, {\r\n    userId: user._id,\r\n    amount,\r\n  });\r\n\r\n  return response.data;\r\n};\r\n\r\n// Get transaction history\r\nexport const getTransactionHistory = async () => {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  if (!user || !user._id) {\r\n    throw new Error(\"User not authenticated\");\r\n  }\r\n\r\n  const response = await axios.get(\r\n    `${API_URL}/wallet/transactions/${user._id}`\r\n  );\r\n  return response.data;\r\n};\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAE5E;AACA,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAI,CAACJ,IAAI,IAAI,CAACA,IAAI,CAACK,GAAG,EAAE;IACtB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EAEA,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,WAAWK,IAAI,CAACK,GAAG,EAAE,CAAC;EACjE,OAAOE,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC5C,MAAMX,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAI,CAACJ,IAAI,IAAI,CAACA,IAAI,CAACK,GAAG,EAAE;IACtB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EAEA,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACkB,IAAI,CAAC,GAAGjB,OAAO,iBAAiB,EAAE;IAC7DkB,MAAM,EAAEb,IAAI,CAACK,GAAG;IAChBM;EACF,CAAC,CAAC;EAEF,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMK,aAAa,GAAG,MAAOH,MAAM,IAAK;EAC7C,MAAMX,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAI,CAACJ,IAAI,IAAI,CAACA,IAAI,CAACK,GAAG,EAAE;IACtB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EAEA,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACkB,IAAI,CAAC,GAAGjB,OAAO,kBAAkB,EAAE;IAC9DkB,MAAM,EAAEb,IAAI,CAACK,GAAG;IAChBM;EACF,CAAC,CAAC;EAEF,OAAOJ,QAAQ,CAACE,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMM,qBAAqB,GAAG,MAAAA,CAAA,KAAY;EAC/C,MAAMf,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAI,CAACJ,IAAI,IAAI,CAACA,IAAI,CAACK,GAAG,EAAE;IACtB,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;EAC3C;EAEA,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAG,CAC9B,GAAGb,OAAO,wBAAwBK,IAAI,CAACK,GAAG,EAC5C,CAAC;EACD,OAAOE,QAAQ,CAACE,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}